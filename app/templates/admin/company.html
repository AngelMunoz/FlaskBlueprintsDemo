{% extends "admin/base.html" %}

 {% macro render_field(field, placeholder=None) %}
    <div>
        {% set css_class = 'form-control ' + kwargs.pop('class', '') %}
        {{ field(class=css_class, placeholder=placeholder, **kwargs) }}
    </div>
  {% endmacro %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/admin/company.css')}}">
    <meta name="csrf-token" content="{{ csrf_token() }}">
{% endblock %}
{% block nav_large %}
    {{ super() }}
{% endblock %}
{% block nav_mobile %}
    {{ super() }}
{% endblock %}
{% block left_panel %}
    {{super()}}
{% endblock %}
{% block content %}
    <div class="row">
        <img class="materialboxed outside-picture"
             src="{{ url_for('static', filename='images/company/outside.jpg') }}"
             data-caption="Company Name, Credit: Dan Dalton/Getty Images">
        <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
            <a class="btn-floating btn-large red">
            <i class="large material-icons">menu</i>
            </a>
            <ul>
                <li><a id="addSub"
                        class="btn-floating green darken-1 tooltipped"
                        data-position="left"
                        data-delay="50"
                        data-tooltip="Add New Subsidiary"><i class="material-icons">add</i></a></li>
                <li><a id="editComp"
                        class="btn-floating blue darken-1 tooltipped"
                        data-position="left"
                        data-delay="50"
                        data-tooltip="Change Company's Name"><i class="material-icons">mode_edit</i></a></li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="show-on-small">
            <div class="row">
                <ul class="collection with-header">
                    <li class="collection-header"><h3>Subsidiaries</h3></li>
                    {% for subsidiary in subsidiaries %}
                        <a href="#!" class="collection-item">{{ subsidiary.name }}</a>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
    <div class="row">
      <div class="col s4 hide-on-small">
        <ul class="collection with-header">
            <li class="collection-header"><h3>Subsidiaries</h3></li>
            {% for subsidiary in subsidiaries %}
                <a href="#!" class="collection-item">{{ subsidiary.name }}</a>
            {% endfor %}
        </ul>
      </div>
      <div class="col s4 hide-on-small-and-down">
        <!-- Promo Content 2 goes here -->
        <div class="newWrapper">
            <form id="newSub" method="POST" action="." accept-charset="UTF-8" role="form" class="container">
                {{ newsubform.csrf_token }}
                <label for="email">Email</label>
                {{ render_field(newsubform.name, placeholder="Your Email Address",
                                            autofocus="", class="validate") }}
                <label for="street">Street</label>
                {{ render_field(newsubform.street, placeholder="Street name", class="validate") }}
                <label for="suburb">Suburb</label>
                {{ render_field(newsubform.suburb, placeholder="Suburb", class="validate") }}
                <label for="ext_number">Exterior Number</label>
                {{ render_field(newsubform.ext_number, placeholder="Exterior number", class="validate") }}
                <label for="interior_number">Interior Number</label>
                {{ render_field(newsubform.interior_number, placeholder="Interior Number", class="validate") }}
                <label for="postal_code">Postal Code</label>
                {{ render_field(newsubform.postal_code, placeholder="Postal Code", class="validate") }}
                <label for="city">City</label>
                {{ render_field(newsubform.city, placeholder="City", class="validate") }}
                <label for="country">Country</label>
                {{ render_field(newsubform.country, placeholder="Country", class="validate") }}
                <button class="btn waves-effect waves-light" type="submit" name="submit">Add New Subsidiary
                    <i class="material-icons right">send</i>
                </button>
            </form>  
        </div>
      </div>
      <div class="col s4 hide-on-small-and-down">
        <div class="editWrapper">
            <form id="editForm" method="POST" action="." accept-charset="UTF-8" role="form" class="container">
                
            </form>
        </div>
      </div>

    </div>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='js/admin/company.js') }}"></script>
{% endblock%}